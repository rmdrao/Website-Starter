---
import { getLocaleFromUrl } from "@/js/localeUtils";
import { getLocalizedRoute, getTranslatedData, useTranslations } from "@/js/translationUtils";

import BaseLayout from "./BaseLayout.astro";

interface Props {
	title: string;
	description: string;
	image?: ImageMetadata;
}

const { title, description, image } = Astro.props as Props;
const currLocale = getLocaleFromUrl(Astro.url);

/** Sections displayed in the overview grid */
const overviewSections = [
	{
		title: "Landing Pages",
		links: [
			{ text: "SaaS Landing", href: "/examples/landing-saas" },
			{ text: "Portfolio Landing", href: "/examples/landing-portfolio" },
			{ text: "Services Landing", href: "/examples/landing-services" },
		],
	},
	{
		title: "Projects",
		links: [
			{ text: "Projects Overview", href: "/projects" },
			{ text: "Project Detail", href: "/projects/ai-content-platform" },
		],
	},
	{
		title: "Career",
		links: [
			{ text: "Resume", href: "/resume" },
			{ text: "Careers Listing", href: "/careers" },
			{ text: "Job Detail", href: "/careers/ux-designer" },
		],
	},
	{
		title: "Services",
		links: [
			{ text: "Services Overview", href: "/services" },
			{ text: "Service Detail", href: "/services/pediatrics" },
			{ text: "Contact Form", href: "/services/pediatrics/#contact" },
		],
	},
	{
		title: "Sections",
		links: [
			{ text: "Feature Sections", href: "/examples/feature-sections" },
			{ text: "Testimonials & FAQ Sections", href: "/examples/testimonials-faq-sections" },
			{ text: "Pricing Sections", href: "/examples/pricing-sections" },
			{ text: "Hero and Logo Sections", href: "/examples/hero-sections" },
			{ text: "Services Sections", href: "/examples/services-sections" },
		],
	},
	{
		title: "Blog",
		links: [
			{ text: "Blog Overview", href: "/blog" },
			{ text: "Blog Post One", href: "/blog/tsconfig-paths-setup" },
			{ text: "Blog Post Two", href: "/examples/blog-post-2" },
			{ text: "Categories", href: "/categories" },
			{ text: "Tags", href: "/tags" },
			{ text: "Authors", href: "/authors/main-author" },
		],
	},
	{
		title: "Authentication",
		links: [
			{ text: "Sign Up", href: "/sign-up" },
			{ text: "Sign In", href: "/sign-in" },
			{ text: "Password Reset", href: "/password-reset" },
		],
	},
	{
		title: "Utility Pages",
		links: [
			{ text: "About", href: "/about" },
			{ text: "Elements", href: "/elements" },
			{ text: "404 Page", href: "/not-a-link" },
			{ text: "RSS Feed", href: "/rss.xml" },
		],
	},
];
---

<BaseLayout title={title} description={description} image={image}>
	<slot name="above-overview">
		<hr class="mt-20 opacity-0" />
	</slot>

	<section class="site-container py-20 pt-10 md:pb-32">
		<h2 class="h2">Overview</h2>
		<div class="mt-8 grid grid-cols-1 gap-14 sm:grid-cols-2 md:gap-y-20 lg:grid-cols-4">
			{
				overviewSections.map((section) => (
					<div>
						<h3 class="h3">{section.title}</h3>
						<div class="mt-4 flex flex-col gap-2">
							{section.links.map((item) => (
								<a href={getLocalizedRoute(currLocale, item.href)} class="nav__link--base py-1">
									{item.text}
								</a>
							))}
						</div>
					</div>
				))
			}
		</div>
	</section>

	<slot name="below-overview" />
</BaseLayout>

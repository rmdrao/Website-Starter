---
import { Icon } from "astro-icon/components";

import type { TestimonialItem } from "@/config/types/configDataTypes";
import { getLocaleFromUrl } from "@/js/localeUtils";
import { getLocalizedRoute, getTranslatedData, useTranslations } from "@/js/translationUtils";

type Props = TestimonialItem;
const { avatar, name, title, testimonial } = Astro.props as Props;

const currLocale = getLocaleFromUrl(Astro.url);
const t = useTranslations(currLocale);
---

<figure
	class="group hover:border-accent bg-muted flex max-w-md flex-col gap-4 rounded-lg border p-6 transition-colors md:rounded-xl"
	aria-label="Testimonial"
>
	<!-- 5 star icons -->
	<div class="text-accent flex gap-1 transition-colors">
		<Icon name="tabler/star-filled" />
		<Icon name="tabler/star-filled" />
		<Icon name="tabler/star-filled" />
		<Icon name="tabler/star-filled" />
		<Icon name="tabler/star-filled" />
	</div>

	<blockquote class="mt-3 max-w-xs italic transition-colors md:max-w-md">
		<span>"{testimonial}"</span>
	</blockquote>
	<figcaption class="mt-2">
		<div class="text-accent font-heading text-lg font-semibold transition-colors">{name}</div>
		<div class="font-medium transition-colors">{title}</div>
	</figcaption>
</figure>
